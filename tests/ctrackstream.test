# Commands covered:  CTrackStream
#
# This file contains a collection of tests for one or more of the Tcl
# built-in commands.  Sourcing this file into Tcl runs the tests and
# generates output for errors.  No output means no errors were found.
#
# Copyright (c) 2000 by Scriptics Corporation.
# Copyright (c) 2005 by Karl Lehenbauer.
#
# See the file "license.terms" for information on usage and redistribution
# of this file, and for a DISCLAIMER OF ALL WARRANTIES.
#
# $Id: ctrackstream.test,v 1.1.1.1 2005-10-30 18:45:18 karl Exp $

package require CTrackStream

test CTrackStream-1.1 {incorrect command usage} {
    list [catch {CTrackStream} errMsg] $errMsg
} {1 {wrong # args: should be "CTrackStream subcommand ?object? ?args?"}}

test CTrackStream-1.2 {incorrect usage of subcommand} {
    list [catch {CTrackStream asdf} errMsg] $errMsg
} {1 {bad option "asdf": must be create, info, or register}}

test CTrackStream-1.3 {incorrect usage of create subcommand} {
    list [catch {CTrackStream create} errMsg] $errMsg
} {1 {wrong # args: should be "CTrackStream subcommand ?object? ?args?"}}

test CTrackStream-1.4 {correct usage of create subcommand} {
    list [catch {CTrackStream create track} errMsg] $errMsg
} {0 {}}

test CTrackStream-1.5 {bad invocation of created command} {
    list [catch {track} errMsg] $errMsg
} {1 {wrong # args: should be "track option ?args?"}}

test CTrackStream-1.6 {bad invocation of created command} {
    list [catch {track asdf} errMsg] $errMsg
} {1 {bad option "asdf": must be _update, arrived, departed, dest, drop_history, history, info, timed_out, or track, or one of the registered methods:}}

test CTrackStream-1.7 {bad arguments to created command's departed subcommand} {
    list [catch {track departed} errMsg] $errMsg
} {1 {wrong # args: should be "track departed aircraftPrefix aircraftType aircraftSuffix origin destination"}}

